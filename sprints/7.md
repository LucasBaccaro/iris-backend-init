## **SPRINT 7: Gestión de Promociones**

**Objetivo del Sprint:** Desarrollar un sistema completo para la creación, gestión y visualización de promociones.

*   **1.1. Tarea: Crear los endpoints CRUD para las promociones (`promotions`).**
    *   **Prompt para el Agente:** "Crea la tabla `promotions` (si no se hizo antes, con campos como `name`, `description`, `discount_type`, `discount_value`, `valid_from`, `valid_until`, `business_id`, etc.). Implementa los endpoints CRUD completos para `promotions`, accesibles solo por `owners` y `employees` de un `business_id` específico. Asegura la validación Pydantic y el filtrado por `business_id`."
    *   **Entregable:** Tabla `promotions` y endpoints CRUD protegidos.
    *   **Testing:** Pruebas CRUD básicas por un owner. Verificar la asociación con `business_id`.
*   **1.2. Tarea: Implementar la lógica para mostrar promociones válidas a los clientes.**
    *   **Prompt para el Agente:** "Crea un endpoint de lectura de promociones (`GET /promotions`) que sea accesible para `customers` (posiblemente sin autenticación si son promociones públicas o filtrado por `business_id` si un cliente está asociado). Este endpoint debe incluir lógica en la capa de servicios para filtrar las promociones y **solo devolver aquellas donde `valid_from` es menor o igual a la fecha actual y `valid_until` es mayor o igual a la fecha actual**. Además, las promociones deben ser filtradas por el `business_id` al que pertenecen."
    *   **Entregable:** Endpoint de lectura de promociones con lógica de validación de fechas.
    *   **Testing:** Probar el endpoint `GET /promotions` con promociones con fechas válidas, expiradas y futuras. Verificar que solo se muestran las válidas.

---